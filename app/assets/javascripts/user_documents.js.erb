$(document).ready(function() {

  // Here???
  UnobtrusiveFlash.flashOptions['timeout'] = 2000; // milliseconds

  $('.colorpicker').colorpicker();

  $(".documents li").on("click", function(){
    document_id = $(this).attr('id').match(/\d+/)[0];

    $.ajax({
      url: "/documents/" + document_id + "/edit",
      type: 'GET',
      success: function(data){
        $('.colorpicker').colorpicker();
      },
      failure: function(data){
        console.log('Failure in getting edit!');
      }
    });
  });

  $('#document_form').on('click', '#document_generate', function(e){
    e.preventDefault();
    $.fileDownload('/documents/generate_and_send', {
      httpMethod: "POST",
      data: $('#document_form form').serialize()
    });
  });
});
